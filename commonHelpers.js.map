{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst timerInput = document.querySelector(\"#datetime-picker\");\nconst timerBtn = document.querySelector(\"[data-start]\");\nconst timerDays = document.querySelector(\"[data-days]\");\nconst timerHours = document.querySelector(\"[data-hours]\");\nconst timerMin = document.querySelector(\"[data-minutes]\");\nconst timerSec = document.querySelector(\"[data-seconds]\");\n\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      const selectedData = selectedDates[0];\n      const originalTime = selectedData.getTime() - new Date().getTime();\n      const timeUpdate = convertMs(originalTime);\n\n      if (selectedData < new Date()) {\n          iziToast.error({\n              position: \"topRight\",\n              message: \"Please choose a date in the future\",\n          });  \n          timerBtn.setAttribute(\"disabled\", true);\n      } else {\n          timerBtn.removeAttribute(\"disabled\");\n          userSelectedDate = selectedData;\n        }\n  },\n};\n\nconst flatPickr = flatpickr(timerInput, options);\nlet userSelectedDate = null;\n\ntimerBtn.addEventListener(\"click\", () => {\n    const selectedTime = userSelectedDate.getTime();\n    timerInput.value = \"\";\n    timerInput.setAttribute(\"disabled\", true);\n    timerBtn.setAttribute(\"disabled\", true);\n\n    const timerInterval = setInterval(() => {\n        const currentTime = Date.now();\n        let remainingTime = selectedTime - currentTime;\n        const numberOfTimer = convertMs(remainingTime);\n\n        if (remainingTime <= 0) {\n            iziToast.info({\n                position: \"topRight\",\n                message: \"Time is up\",\n            });\n            clearInterval(timerInterval);\n        } else {\n            timerDays.textContent = `${numberOfTimer.days}`;\n            timerHours.textContent = `${numberOfTimer.hours}`;\n            timerMin.textContent = `${numberOfTimer.minutes}`;\n            timerSec.textContent = `${numberOfTimer.seconds}`;\n        }\n    }, 1000);\n});\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n    const days = Math.floor(ms / day)\n    .toString()\n    .padStart(2, '0');\n  // Remaining hours\n    const hours = Math.floor((ms % day) / hour)\n    .toString()\n    .padStart(2, '0');;\n  // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute)\n    .toString()\n    .padStart(2, '0');;\n  // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second)\n    .toString()\n    .padStart(2, '0');\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["timerInput","timerBtn","timerDays","timerHours","timerMin","timerSec","options","selectedDates","selectedData","originalTime","convertMs","iziToast","userSelectedDate","flatpickr","selectedTime","timerInterval","currentTime","remainingTime","numberOfTimer","ms","days","hours","minutes","seconds"],"mappings":"6vBAKA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAW,SAAS,cAAc,gBAAgB,EAGlDC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAeD,EAAc,GAC7BE,EAAeD,EAAa,QAAO,EAAK,IAAI,KAAI,EAAG,UACtCE,EAAUD,CAAY,EAErCD,EAAe,IAAI,MACnBG,EAAS,MAAM,CACX,SAAU,WACV,QAAS,oCACvB,CAAW,EACDV,EAAS,aAAa,WAAY,EAAI,IAEtCA,EAAS,gBAAgB,UAAU,EACnCW,EAAmBJ,EAE1B,CACH,EAEkBK,EAAUb,EAAYM,CAAO,EAC/C,IAAIM,EAAmB,KAEvBX,EAAS,iBAAiB,QAAS,IAAM,CACrC,MAAMa,EAAeF,EAAiB,UACtCZ,EAAW,MAAQ,GACnBA,EAAW,aAAa,WAAY,EAAI,EACxCC,EAAS,aAAa,WAAY,EAAI,EAEtC,MAAMc,EAAgB,YAAY,IAAM,CACpC,MAAMC,EAAc,KAAK,MACzB,IAAIC,EAAgBH,EAAeE,EACnC,MAAME,EAAgBR,EAAUO,CAAa,EAEzCA,GAAiB,GACjBN,EAAS,KAAK,CACV,SAAU,WACV,QAAS,YACzB,CAAa,EACD,cAAcI,CAAa,IAE3Bb,EAAU,YAAc,GAAGgB,EAAc,OACzCf,EAAW,YAAc,GAAGe,EAAc,QAC1Cd,EAAS,YAAc,GAAGc,EAAc,UACxCb,EAAS,YAAc,GAAGa,EAAc,UAE/C,EAAE,GAAI,CACX,CAAC,EAED,SAASR,EAAUS,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC/B,SAAU,EACV,SAAS,EAAG,GAAG,EAEVE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACzC,SAAU,EACV,SAAS,EAAG,GAAG,EAEVG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACtD,SAAU,EACV,SAAS,EAAG,GAAG,EAEVI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EACjE,SAAU,EACV,SAAS,EAAG,GAAG,EAElB,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}